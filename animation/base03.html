<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>自主绘制图形-三角形</title>
  <script src="https://cdn.bootcss.com/zrender/4.0.6/zrender.js"></script>
  <style>
    #main {
      width: 300px;
      height: 300px;
    }
  </style>

<body>
  <canvas id="main"></canvas>
  <script>
    var zr = function (zrender) {
      return zrender.init(document.getElementById('main'), {
        width: 300,
        height: 300
      });
    }(zrender);

    // var circle = new zrender.Circle({
    //   shape: {
    //     cx: 150,
    //     cy: 50,
    //     r: 40
    //   },
    //   style: {
    //     fill: 'none',
    //     stroke: '#F00'
    //   }
    // });
    // zr.add(circle);
    var drawUtils = {
      arrow(obj, deg) {
        var group = new zrender.Group();
        group.origin = [obj.x, obj.h - obj.r + obj.y];
        // group.origin["y"] = 150;
        group.rotation = deg;
        var line = new zrender.Line({
          shape: {
            x1: obj.x,
            y1: obj.y,
            x2: obj.x,
            y2: obj.h - obj.r + obj.y
          },
          zlevel: 1
        });
        var circle = new zrender.Isogon({
          shape: {
            x: obj.x,
            y: obj.y,
            r: obj.r,
            n: 3
          },
          style: {
            fill: obj.color
          },
          zlevel: 2
        });
        group.add(line);
        group.add(circle);
        return group;
      }
    }

    zr.add(drawUtils.arrow({
      x: 150,
      y: 50,
      r: 10,
      h: 110,
      color: "#F00"
    }, 0));
  </script>
</body>

</html>