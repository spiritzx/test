<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>希尔排序</title>
</head>
<body>
  <script>
    // let arr = [
    //   0, 2, 1, 5, 2, 4, 3, 7, 6, 545, 3131, 87877, 2454, 5545, 21412, 78797, 889, 878, 87,5050, 4450, 6565, 
    //   88, 25, 5, 4, 57, 47, 47,55, 2121, 707, 205, 30654, 5254, 5540, 4465, 5454, 4545, 454, 5050, 4450, 6565, 989, 89897, 897,
    //   77, 66,41,52, 402, 812, 745, 54045, 4550, 5054, 455050, 4450, 6565, 989, 89897, 897,989, 89897, 897,
    //   855, 8255, 74422, 1254, 744, 505, 4440, 5605, 54500, 55000, 4000, 89, 9, 8778, 5785, 66, 989, 89897, 897,
    //   150, 120, 450, 74, 52, 62, 75, 20000, 55450, 51510, 5450, 4400, 55555, 12445, 6464, 6564,
    //   4110, 1244, 452, 1204, 741, 741, 40450, 44404, 45004, 450450, 46545, 54545, 545, 445654, 89897, 897,
    //   258, 123, 124, 154, 156, 148, 258, 4504, 44040, 4500, 575050, 4450, 6565, 989, 89897, 897,5050, 4450, 6565, 989, 
    //   354, 25, 128, 12, 58, 56, 456, 852, 74, 121010, 2110, 1000, 1210, 1564574, 1545, 787, 554, 89897, 897,
    //   741, 753, 789, 756, 742, 7654, 895, 122, 10101, 1010, 1110, 1101, 404, 606, 050 , 2050, 4054, 40, 450,
    //   2354, 4521, 7458, 777, 7, 77, 88, 888, 12101, 140, 14, 2, 111, 540, 650, 60560, 480, 540, 450,
    //   99, 999, 44, 444, 4444, 55, 555, 5555, 14041, 14001, 1404, 50504, 8047, 50, 540, 79870, 6400, 455, 605,
    //   22, 222, 2222, 333, 3333, 111, 1111, 1221, 4221, 3213, 545, 445, 4150, 5054, 40, 40455, 605,
    //   1231, 4564, 7897, 754, 4521, 997, 7844, 4521, 545, 5654, 656, 535, 352, 6540, 50, 535410, 455, 605,
    //   36452, 54412, 9852, 7854, 12345, 45412, 4412, 321, 254, 5457, 44123, 230, 650, 230, 20, 2023,
    //   87487, 12112, 415, 545, 6431, 79874, 321321, 545, 54654, 545, 5478, 205045, 30, 65050, 50455, 605,
    //   4564, 21, 521, 344, 555, 3231, 1214, 56564, 311, 54646, 544544, 78789, 4504, 89987, 5605, 4050,
    //   977, 6464, 212, 644, 9797, 464, 21313, 79879, 145, 877, 13213, 98797, 1450, 50560, 687897, 404, 404,
    //   8979, 356, 1213, 3220, 3021, 60231, 65402, 51405, 69897, 5454, 554, 8778, 8084, 54087, 447, 84,
    //   652056, 2105, 35105, 5045, 560454, 564058, 6450, 65459, 13131, 877, 4648, 5450, 56565, 234545,
    //   8978, 50, 10, 20, 30, 50, 65454, 77, 352321, 64, 6465, 77787, 45454, 5644, 13213, 31321, 7987, 23521,
    //   2354, 4521, 7458, 777, 7, 77, 88, 888, 12101, 140, 14, 2, 111, 540, 650, 60560, 480, 540, 450,
    //   560, 480, 540, 450,213, 31321, 7987, 23521, 454, 77, 3523, 7787, 45454, 644, 132, 321, 7987, 235,
    //   21, 7987, 23521, 454, 77, 3523, 7787, 45454, 644, 132, 321, 7987, 235, 1321, 545, 54654, 545, 5478, 205,
    //   105, 35105, 5045, 560454, 564058, 6450, 65459, 131,  1313, 79879, 145, 877, 132, 12, 415, 545, 6431, 79874, 3213,
    //   045, 30, 65050, 50455, 605, 321, 7987, 235, 345, 45412, 4412, 321, 25, 4544, 78789, 4504, 899,
    //   2321, 64, 6465, 7778, 454, 5640, 5050, 5045, 521, 745, 213, 3220, 3021, 60231, 65402, 51405, 69897, 5454, 55,
    //   465, 7778, 454, 5640, 5050, 5045, 521, 745, 213, 3220, 3021, 60231, 65402, 51405, 69897, 54, 87, 45454, 644, 132, 321,
    //   7987, 235, 55, 3231, 1214, 56564, 311, 546
    // ];
    // let arr = [10, 0, 1, 3, 4, 2, 6, 5, 8, 7, 9, 12, 2, 3, 22, 2,];
    let arr = [2,0,2,1,1,0];
    function  sortArr(arr) {
      console.time('希尔排序耗时');
      let len = arr.length;
      for (let shell = Math.floor(len / 2); shell > 0; shell = Math.floor(shell / 2)) {
        console.log(shell)
        for (let i = shell; i < len; i++) {
          // console.log(arr[i])
          let j = i - shell;
          let cur = arr[i];
          while(j >= 0 && cur < arr[j]) {
            arr[j + shell] = arr[j];  //将待比较元素后移shell位
            j -= shell; 
          }
          if (j + shell != i) {                   //避免同一个元素赋值给自身
            arr[j + shell] = cur;            //将当前元素插入预留空位
          }
        }
      }
      console.timeEnd('希尔排序耗时');
      return arr;
    }
    console.log(sortArr(arr))
  </script>
</body>
</html>