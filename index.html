<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="./js/index.js"></script>
  
</head>
<body>
  <script>
    class FormCheck {
      constructor() {
        this.cache = [],
        this.strategy = {
          isEmpty(val, message) {
            if (!val) {
              return message;
            } else {
              return "输入值：" + val
            }
          },
          maxLength(val, len, message) {
            if (val.length >= len) {
              return message;
            } else {
              return "输入值：" + val
            }
          }
        }
      }
      set(...args) {
        
        (function (key, ...args) {
          that.cache.push(that.strategy[key].bind(this, ...args));
        })(key, ...args)
      }
      start() {
        console.log(this.cache)
        this.cache.forEach(val => {
          console.log(val());
          val();
        })
      }
    }
    let formCheck = new FormCheck();
    formCheck.set("2", [{fnName: "isEmpty", message: "输入为空"}, {fnName: "maxLength", len: 6, message: "输入长度过长"});
    formCheck.start();
   
  </script>
</body>
</html>